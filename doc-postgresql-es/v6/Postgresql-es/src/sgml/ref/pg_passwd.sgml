<!--
$Header: /home/cvs/lucas/doc-postgresql-es/v6/Postgresql-es/src/sgml/ref/pg_passwd.sgml,v 1.5 2001/04/21 22:12:33 olea Exp $
Postgres documentation
-->

<refentry id="APP-PG-PASSWD">
 <refmeta>
  <refentrytitle id="APP-PG-PASSWD-TITLE">
   <application>pg_passwd</application>
  </refentrytitle>
  <refmiscinfo>Application</refmiscinfo>
 </refmeta>
 <refnamediv>
  <refname>
   <application>pg_passwd</application>
  </refname>
  <refpurpose>
   manipula el fichero plano de passwords.
  </refpurpose>
 </refnamediv>
 <refsynopsisdiv>
  <refsynopsisdivinfo>
   <date>1999-07-20</date>
  </refsynopsisdivinfo>
  <synopsis>
pg_passwd <replaceable class="parameter">filename</replaceable>
  </synopsis>
 </refsynopsisdiv>

 <refsect1 id="R1-APP-PG-PASSWD-1">
  <refsect1info>
   <date>1999-07-20</date>
  </refsect1info>
  <title>
   Descripción
  </title>
  <para>
   <application>pg_passwd</application>
   es una herramienta para manipular la
   funcionalidad del fichero plano de passwords de
   <productname>Postgres</productname>. Este estilo de autentificación
   de passwords no se <emphasis>requiere</emphasis> en una
   instalación, pero es uno de los diversos mecanismos utilizados en la seguridad.
  </para>

  <para>
   Especifique el archivo de passwords en el mismo estilo que
   autentificación <literal>Ident</literal> en:
   <filename>$PGDATA/pg_hba.conf</filename>:

   <programlisting>
host  unv     133.65.96.250   255.255.255.255 password passwd
   </programlisting>

   Donde la línea anterior permite el acceso desde 133,65,96,250 usando los passwords listados
   en <filename>$PGDATA/passwd</filename>.
   El formato del archivo de passwords sigue el formato de
   <filename>/etc/passwd</filename>
   y
   <filename>/etc/shadow</filename>.
   El primer campo es el nombre de usuario, y el segundo campo
   es el password cifrado.
   El resto es totalmente ignorado.
   Así las tres líneas siguientes de ejemplo especifican el mismo par de nombre de usuario y password:

   <programlisting>
pg_guest:/nB7.w5Auq.BY:10031::::::
pg_guest:/nB7.w5Auq.BY:93001:930::/home/guest:/bin/tcsh
pg_guest:/nB7.w5Auq.BY:93001
   </programlisting>
  </para>

  <para>
   Provea del fichero de passwords al comando pg_passwd.
   En el caso descrito anteriormente, después de cambiar el directorio de trabajo a
   <envar>PGDATA</envar>, la ejecución siguiente del comando especifica
   el nuevo password para <literal>pg_guest</literal>:

   <programlisting>
	% pg_passwd passwd
	Username: pg_guest
	Password:
	Re-enter password:
   </programlisting>

   Donde la petición <literal>Password:</literal>
   y <literal>Re-enter password:</literal>
   requieren el mismo password de entrada pero no se visualizarán
   en la terminal. El archivo original de passwords se renombra como
   <filename>passwd.bk</filename>.
  </para>

  <para>
   <application>psql</application>
   utiliza la opción <option>-u</option>
   para invocar este estilo de
   autentificación.
  </para>

  <para>
   Las líneas siguientes muestran ejemplos de uso de la opción:

<programlisting>
% psql -h hyalos -u unv
Username: pg_guest
Password:
Bienvenido al monitor interactivo de PostgreSQL:
  Lea por favor el archivo COPYRIGHT para los términos de derechos de autor del tipo de PostgreSQL.
   Escriba \? para la ayuda en comandos slash (/)
   Escriba \q para salir
   Escriba \g o terminar con punto y coma para ejecutar la consulta
Usted está conectado actualmente con la base de datos: unv
unv =>
   </programlisting>
  </para>

  <para>
   La autentificación de Perl5
   utiliza el nuevo estilo de <filename>Pg.pm</filename> como esto:

   <programlisting>
$conn = Pg::connectdb("host=hyalos dbname=unv
                       user=pg_guest password=xxxxxxx");
   </programlisting>

   Para más detalles, refiérase a
   <filename>src/interfaces/perl5/Pg.pm</filename>.
  </para>

  <para>
   La autentificación Pg{tcl, tk}sh
   utiliza el comando
   <function>pg_connect</function>
   con la opción
   <option>-conninfo</option>
   por lo tanto:

<programlisting>
% set conn [pg_connect -conninfo \\
            "host=hyalos dbname=unv \\
             user=pg_guest password=xxxxxxx "]
   </programlisting>

   Se pueden enumerar todas las claves para la opción ejecutando el comando
   siguiente:

   <programlisting>
% puts [ pg_conndefaults]
   </programlisting>
  </para>
 </refsect1>
</refentry>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:nil
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
sgml-parent-document:nil
sgml-default-dtd-file:"../reference.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:"/usr/lib/sgml/catalog"
sgml-local-ecat-files:nil
End:
-->
