<HTML
><HEAD
><TITLE
>Instalación Unix</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.54"><LINK
REL="HOME"
TITLE="PostgreSQL"
HREF="postgres.htm"><LINK
REL="UP"
TITLE="Interfaz ODBC"
HREF="odbc.htm"><LINK
REL="PREVIOUS"
TITLE="Aplicaciones Windows"
HREF="x22041.htm"><LINK
REL="NEXT"
TITLE="Ficheros de Configuración"
HREF="x22247.htm"></HEAD
><BODY
CLASS="SECT1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>PostgreSQL</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="x22041.htm"
>Anterior</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>Capítulo 49. Interfaz ODBC</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="x22247.htm"
>Siguiente</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="AEN22079"
>Instalación Unix</A
></H1
><P
><SPAN
CLASS="PRODUCTNAME"
>ApplixWare</SPAN
> tiene un interface de base de datos
<SPAN
CLASS="ACRONYM"
>ODBC</SPAN
> soportado en al menos varias plataformas.
<SPAN
CLASS="PRODUCTNAME"
>ApplixWare</SPAN
> v4.4.1 ha sido probado bajo Linux con
<SPAN
CLASS="PRODUCTNAME"
>Postgres</SPAN
> v6.4 
usndo el driver <SPAN
CLASS="PRODUCTNAME"
>psqlODBC</SPAN
>
contenido en la distribución <SPAN
CLASS="PRODUCTNAME"
>Postgres</SPAN
>.</P
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN22088"
>Construyendo el Driver</A
></H2
><P
>Lo primero que debe saberse acerca del driver <SPAN
CLASS="PRODUCTNAME"
>psqlODBC</SPAN
> 
 (o cualquier otro driver <SPAN
CLASS="ACRONYM"
>ODBC</SPAN
>) es que debe existir un 
gestor de driver en el sistema donde va a usarse el driver <SPAN
CLASS="ACRONYM"
>ODBC</SPAN
>. 
Existe un driver <SPAN
CLASS="ACRONYM"
>ODBC</SPAN
>freeware para Unix llamado 
<SPAN
CLASS="PRODUCTNAME"
>iodbc</SPAN
> que puede obtenerse en varios puntos de 
Internet, además de en
<A
HREF="http://www.as220.org/FreeODBC/iodbc-2.12.shar.Z"
TARGET="_top"
>AS200</A
>. 
Las instrucciones para instalar <SPAN
CLASS="PRODUCTNAME"
>iodbc</SPAN
> van más 
allá del objeto de este documento, pero hay un fichero <TT
CLASS="FILENAME"
>README</TT
>
 que puede encontrarse dentro del paquete <SPAN
CLASS="PRODUCTNAME"
>iodbc</SPAN
> 
.shar comprimido que debería explicar cómo realizar la instalación y puesta 
en marcha.</P
><P
>Una vez dicho esto, cualquier gestor de driver que encuentre para su
plataforma debería poder manejar el driver <SPAN
CLASS="PRODUCTNAME"
>psqlODBC</SPAN
> 
 o cualquier driver <SPAN
CLASS="ACRONYM"
>ODBC</SPAN
>.</P
><P
>Los ficheros de configuración Unix para <SPAN
CLASS="PRODUCTNAME"
>psqlODBC</SPAN
>
 han sido remozados de forma intensiva recientemente para permitir una 
fácil construcción en las plataformas soportadas y para permitir el soporte 
de otras plataformas Unix en el futuro.
Los nuevos ficheros de configuración y construcción para el driver deberían 
convertir el proceso de construcción en algo simple para las plataformas soportadas.
Actualmente estas incluyen Linux y FreeBSD but we esperamos que otros usuarios
contribuyan con la información necesaria para un rápido crecimiento del número
de plataformas para las que puede ser construido el driver.</P
><P
>En la actualidad existen dos métodos distintos para la construcción del driver
en función de cómo se haya recibido y sus diferencias se reducen a dónde 
y cómo ejecutar <SPAN
CLASS="APPLICATION"
>configure</SPAN
> y <SPAN
CLASS="APPLICATION"
>make</SPAN
>. 
El driver puede ser construido en modo de equipo aislado, instalación de 
sólo cliente, o como parte de la distribución <SPAN
CLASS="PRODUCTNAME"
>Postgres</SPAN
>.
La instalación aislada es conveniente si usted tiene aplicaciones clientes de <SPAN
CLASS="ACRONYM"
>ODBC</SPAN
>
en plataformas múltiples y heterogéneas. La instalación integrada es conveniente
cuando las plataformas cliente y servidora son las mismas, o cuando cliente y servidor
tienen configuraciones de ejecución similares.</P
><P
>Específicamente si ha recibido el driver<SPAN
CLASS="PRODUCTNAME"
>psqlODBC</SPAN
>
 como parte de la distribución <SPAN
CLASS="PRODUCTNAME"
>Postgres</SPAN
> 
 (a partir de ahora se referenciará como "instalación integrada") entonces
podrá configurar el driver <SPAN
CLASS="ACRONYM"
>ODBC</SPAN
> desde el directorio principal
de fuentes de la distribución <SPAN
CLASS="PRODUCTNAME"
>Postgres</SPAN
>
 junto con el resto de las librerías.
Si lo recibió como un paquete aislado, entonces podrá ejecutar "configure" y 
"make" desde el directorio en el que desempaquetó los fuentes.</P
><DIV
CLASS="PROCEDURE"
><P
><B
>Instalación integrada</B
></P
><P
>Este procedimiento es apropiado para la instalación integrada.</P
><OL
TYPE="1"
><LI
><P
>Especificar el argumento<TT
CLASS="OPTION"
>--with-odbc</TT
>
en la línea de comandos para <SPAN
CLASS="APPLICATION"
>src/configure</SPAN
>:

<PRE
CLASS="PROGRAMLISTING"
>% ./configure --with-odbc
% make</PRE
></P
></LI
><LI
><P
>Reconstruir la distribución <SPAN
CLASS="PRODUCTNAME"
>Postgres</SPAN
>:

<PRE
CLASS="PROGRAMLISTING"
>% make install</PRE
></P
></LI
></OL
></DIV
><P
>Una vez configurado, el driver <SPAN
CLASS="ACRONYM"
>ODBC</SPAN
> será construido e instalado
dentro de las áreas definidas para otros componentes del sistema
<SPAN
CLASS="PRODUCTNAME"
>Postgres</SPAN
>. El fichero de configuración de instalación
<SPAN
CLASS="ACRONYM"
>ODBC</SPAN
> será colocado en el directorio principal del árbol de
destino Postgres (<TT
CLASS="ENVAR"
>POSTGRESDIR</TT
>).
Esto puede ser cambiado en la línea de comandos de <SPAN
CLASS="APPLICATION"
>make</SPAN
> 
como
<PRE
CLASS="PROGRAMLISTING"
>% make ODBCINST=<TT
CLASS="REPLACEABLE"
><I
>filename</I
></TT
> install</PRE
></P
><DIV
CLASS="PROCEDURE"
><P
><B
>Instalación Integrada Pre-v6.4</B
></P
><P
>Si usted tiene una instalación <SPAN
CLASS="PRODUCTNAME"
>Postgres</SPAN
> más
antigua que la v6.4, tiene disponible el árbol de fuentes original, 
y desea usar la versión más actualizada del driver <SPAN
CLASS="ACRONYM"
>ODBC</SPAN
>,
 entonces deseará esta modalidad de instalación.</P
><OL
TYPE="1"
><LI
><P
>Copie el fichero tar de salida a su sistema y desempaquételo en un directorio
vacío.</P
></LI
><LI
><P
>Desde el directorio donde se encuentran los fuentes, teclee:

<PRE
CLASS="PROGRAMLISTING"
>% ./configure
% make
% make POSTGRESDIR=<TT
CLASS="REPLACEABLE"
><I
>PostgresTopDir</I
></TT
> install</PRE
></P
></LI
><LI
><P
>Si desea instalar los componentes en diferentes árboles, entonces puede
especificar varios destinos explícitamente:

<PRE
CLASS="PROGRAMLISTING"
>% make BINDIR=bindir  LIBDIR=libdir  HEADERDIR=headerdir ODBCINST=instfile install</PRE
></P
></LI
></OL
></DIV
><DIV
CLASS="PROCEDURE"
><P
><B
>Instalación Aislada</B
></P
><P
>Una instalación aislada no está configurada en la distribución
<SPAN
CLASS="PRODUCTNAME"
>Postgres</SPAN
> habitual. Debe realizarse un ajuste mejor
para la construcción del driver <SPAN
CLASS="ACRONYM"
>ODBC</SPAN
> para clientes múltiples y
y heterogeneos que no tienen instalado un árbol de fuentes <SPAN
CLASS="PRODUCTNAME"
>Postgres</SPAN
>
de forma local.</P
><P
>La ubicación por defecto para las librerías y ficheros de cabecera
y para la instalación aislada es <TT
CLASS="FILENAME"
>/usr/local/lib</TT
>
 y <TT
CLASS="FILENAME"
>/usr/local/include/iodbc</TT
>, respectivamente.
Existe otro fichero de configuración de sistema que se instala como
<TT
CLASS="FILENAME"
>/share/odbcinst.ini</TT
> (si <TT
CLASS="FILENAME"
>/share</TT
>
 exists) o como <TT
CLASS="FILENAME"
>/etc/odbcinst.ini</TT
>
 (si <TT
CLASS="FILENAME"
>/share</TT
> no existe).</P
><DIV
CLASS="NOTE"
><BLOCKQUOTE
CLASS="NOTE"
><P
><B
>Nota: </B
>La instalación de ficheros en  <TT
CLASS="FILENAME"
>/share</TT
>
 o <TT
CLASS="FILENAME"
>/etc</TT
> requiere privilegios de root.
Muchas etapas de la instalación de <SPAN
CLASS="PRODUCTNAME"
>Postgres</SPAN
> no necesitan
de este requerimiento, y usted puede elegir otra ubicación en que su cuenta de
superusuario <SPAN
CLASS="PRODUCTNAME"
>Postgres</SPAN
> tenga permisos de escritura.</P
></BLOCKQUOTE
></DIV
><OL
TYPE="1"
><LI
><P
>La instalación de la distribución aislada puede realizarse desde la distribución
<SPAN
CLASS="PRODUCTNAME"
>Postgres</SPAN
> o puede ser obtenida a través de 
<A
HREF="http://www.insightdist.com/psqlodbc"
TARGET="_top"
>Insight Distributors</A
>,
los mantenedores actuales para distribuciones no Unix.</P
><P
>Copie el fichero zip o el fichero tar comprimido en un directorio vacío.
Si usa el paquete zip, descomprímalo con el comando
<PRE
CLASS="PROGRAMLISTING"
>% unzip -a <TT
CLASS="REPLACEABLE"
><I
>packagename</I
></TT
></PRE
>

La opción <TT
CLASS="OPTION"
>-a</TT
> es necesaria para deshacerse de 
los pares CR/LF de <SPAN
CLASS="ACRONYM"
>DOS</SPAN
> en los ficheros fuente</P
><P
>Si tiene el paquete tar comprimido, simplemente ejecute

<PRE
CLASS="PROGRAMLISTING"
>tar -xzf <TT
CLASS="REPLACEABLE"
><I
>packagename</I
></TT
></PRE
></P
><OL
CLASS="SUBSTEPS"
TYPE="a"
><LI
><P
>Para crear un fichero tar para una instalación aislada completa
desde el árbol principal de fuentes de <SPAN
CLASS="PRODUCTNAME"
>Postgres</SPAN
>:</P
></LI
></OL
></LI
><LI
><P
>Configure la distribución principal <SPAN
CLASS="PRODUCTNAME"
>Postgres</SPAN
>.</P
></LI
><LI
><P
>Cree el fichero tar:

<PRE
CLASS="PROGRAMLISTING"
>% cd interfaces/odbc
% make standalone</PRE
></P
></LI
><LI
><P
>Copie el fichero tar de salida al sistema de destino. Asegúrese de transferirlo
como un fichero binario usando <SPAN
CLASS="APPLICATION"
>ftp</SPAN
>.</P
></LI
><LI
><P
>Desempaquete el fichero tar en un directorio vacío.</P
></LI
><LI
><P
>Configure la instalación aislada:

<PRE
CLASS="PROGRAMLISTING"
>% ./configure</PRE
></P
><P
>La configuración puede realizarse con las opciones:

<PRE
CLASS="PROGRAMLISTING"
>% ./configure --prefix=<TT
CLASS="REPLACEABLE"
><I
>rootdir</I
></TT
> --with-odbc=<TT
CLASS="REPLACEABLE"
><I
>inidir</I
></TT
></PRE
>

donde <TT
CLASS="OPTION"
>--prefix</TT
> instala las bibliotecas y ficheros de cabecera en
los directorios <TT
CLASS="FILENAME"
><TT
CLASS="REPLACEABLE"
><I
>rootdir</I
></TT
>/lib</TT
> y
<TT
CLASS="FILENAME"
><TT
CLASS="REPLACEABLE"
><I
>rootdir</I
></TT
>/include/iodbc</TT
>, y
<TT
CLASS="OPTION"
>--with-odbc</TT
> instala <TT
CLASS="FILENAME"
>odbcinst.ini</TT
> en el 
directorio especificado.</P
><P
>Nótese que ambas opciones se pueden usar desde la construcción integrada
pero tenga en cuenta <I
CLASS="EMPHASIS"
>que cuando se usan en la construcción integrada</I
>
<TT
CLASS="OPTION"
>--prefix</TT
> también se aplicará al resto de su instalación 
<SPAN
CLASS="PRODUCTNAME"
>Postgres</SPAN
>.
<TT
CLASS="OPTION"
>--with-odbc</TT
> se aplica sólo al fichero de configuración
 <TT
CLASS="FILENAME"
>odbcinst.ini</TT
>.</P
></LI
><LI
><P
>Compile and link the source code:

<PRE
CLASS="PROGRAMLISTING"
>% make ODBCINST=<TT
CLASS="REPLACEABLE"
><I
>instdir</I
></TT
></PRE
></P
><P
>También puede obviar la ubicación por defecto en la instalación en la
línea de comandos de 'make'. Esto sólo se aplica a  la instalación de 
las librerías y los ficheros de cabecera. Desde que el driver necesita saber la ubicación
del fichero odbcinst.ini el intento de  sustituir la variable de 
que especifica el directorio de instalación probablemente le causará 
quebraderos de cabeza. Es más seguro y simple permitir al driver que instale el 
fichero odbcinst.ini en el directorio por defecto o el directorio especificado por usted en
en la línea de comandos de la orden './configure' con --with-odbc.</P
></LI
><LI
><P
>Instala el código fuente:

<PRE
CLASS="PROGRAMLISTING"
>% make POSTGRESDIR=<TT
CLASS="REPLACEABLE"
><I
>targettree</I
></TT
> install</PRE
></P
><P
>Para sustituir la librería y los directorios principales de instalación por separado
necesita pasar las variables de instalación correctas en la línea de argumentos
<TT
CLASS="LITERAL"
>make install</TT
>. Estas variables son
<TT
CLASS="ENVAR"
>LIBDIR</TT
>, <TT
CLASS="ENVAR"
>HEADERDIR</TT
>
 and <TT
CLASS="ENVAR"
>ODBCINST</TT
>.
Sustituyendo <TT
CLASS="ENVAR"
>POSTGRESDIR</TT
> en la línea de argumentos de make se
originará que <TT
CLASS="ENVAR"
>LIBDIR</TT
> y <TT
CLASS="ENVAR"
>HEADERDIR</TT
>
 puedan ser ubicados en el nuevo directorio que usted especifique. 
<TT
CLASS="ENVAR"
>ODBCINST</TT
> es independiente de <TT
CLASS="ENVAR"
>POSTGRESDIR</TT
>.</P
><P
>Aquí es donde usted podrían especificar varios destinos explícitamente:

<PRE
CLASS="PROGRAMLISTING"
>% make BINDIR=<TT
CLASS="REPLACEABLE"
><I
>bindir</I
></TT
> LIBDIR=<TT
CLASS="REPLACEABLE"
><I
>libdir</I
></TT
> HEADERDIR=<TT
CLASS="REPLACEABLE"
><I
>headerdir</I
></TT
> install</PRE
></P
><P
>Por ejemplo, tecleando

<PRE
CLASS="PROGRAMLISTING"
>% make POSTGRESDIR=/opt/psqlodbc install</PRE
>

(después de haber usado
 <SPAN
CLASS="APPLICATION"
>./configure</SPAN
> y <SPAN
CLASS="APPLICATION"
>make</SPAN
>)
tendrá como consecuencia que las bibliotecas y ficheros de cabecera sean
instalados en los directorios <TT
CLASS="FILENAME"
>/opt/psqlodbc/lib</TT
>
 y <TT
CLASS="FILENAME"
>/opt/psqlodbc/include/iodbc</TT
> respectivamente.</P
><P
>El comando

<PRE
CLASS="PROGRAMLISTING"
>% make POSTGRESDIR=/opt/psqlodbc HEADERDIR=/usr/local install</PRE
>

ocasionará que las bibliotecas sean instaladas en /opt/psqlodbc/lib y
los ficheros de cabecera en /usr/local/include/iodbc. Si esto no funciona como
se espera por favor contacte con los mantenedores.</P
></LI
></OL
></DIV
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="x22041.htm"
>Anterior</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="postgres.htm"
>Inicio</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="x22247.htm"
>Siguiente</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Aplicaciones <SPAN
CLASS="PRODUCTNAME"
>Windows</SPAN
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="odbc.htm"
>Subir</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Ficheros de Configuración</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>