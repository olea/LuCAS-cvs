<HTML
><HEAD
><TITLE
>Geometric Functions</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.54"><LINK
REL="HOME"
TITLE="PostgreSQL"
HREF="postgres.htm"><LINK
REL="UP"
TITLE="Functions"
HREF="functions.htm"><LINK
REL="PREVIOUS"
TITLE=" Formatting Functions "
HREF="x2571.htm"><LINK
REL="NEXT"
TITLE="IP V4 Functions"
HREF="x3193.htm"></HEAD
><BODY
CLASS="SECT1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>PostgreSQL</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="x2571.htm"
>Anterior</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>Capítulo 5. Functions</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="x3193.htm"
>Siguiente</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="AEN2975"
>Geometric Functions</A
></H1
><P
>    The geometric types point, box, lseg, line, path, polygon, and
    circle have a large set of native support functions.
   </P
><P
>    <DIV
CLASS="TABLE"
><P
><B
>Tabla 5-11. Geometric Functions</B
></P
><TABLE
BORDER="1"
CLASS="CALSTABLE"
><THEAD
><TR
><TH
ALIGN="LEFT"
VALIGN="TOP"
>Function</TH
><TH
ALIGN="LEFT"
VALIGN="TOP"
>Returns</TH
><TH
ALIGN="LEFT"
VALIGN="TOP"
>Description</TH
><TH
ALIGN="LEFT"
VALIGN="TOP"
>Example</TH
></TR
></THEAD
><TBODY
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
> area(box) </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> float8 </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> area of box </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> area('((0,0),(1,1))'::box) </TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
> area(circle) </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> float8 </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> area of circle </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> area('((0,0),2.0)'::circle) </TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
> box(box,box) </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> box </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> boxes to intersection box </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> box('((0,0),(1,1))','((0.5,0.5),(2,2))') </TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
> center(box) </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> point </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> center of object </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> center('((0,0),(1,2))'::box) </TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
> center(circle) </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> point </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> center of object </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> center('((0,0),2.0)'::circle) </TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
> diameter(circle) </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> float8 </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> diameter of circle </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> diameter('((0,0),2.0)'::circle) </TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
> height(box) </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> float8 </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> vertical size of box </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> height('((0,0),(1,1))'::box) </TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
> isclosed(path) </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> bool </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> a closed path? </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> isclosed('((0,0),(1,1),(2,0))'::path) </TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
> isopen(path) </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> bool </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> an open path? </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> isopen('[(0,0),(1,1),(2,0)]'::path) </TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
> length(lseg) </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> float8 </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> length of line segment </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> length('((-1,0),(1,0))'::lseg) </TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
> length(path) </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> float8 </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> length of path </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> length('((0,0),(1,1),(2,0))'::path) </TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
> pclose(path) </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> path </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> convert path to closed </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> popen('[(0,0),(1,1),(2,0)]'::path) </TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
> point(lseg,lseg) </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> point </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> intersection </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> point('((-1,0),(1,0))'::lseg,'((-2,-2),(2,2))'::lseg) </TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
> points(path) </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> int4 </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> number of points </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> points('[(0,0),(1,1),(2,0)]'::path) </TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
> popen(path) </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> path </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> convert path to open </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> popen('((0,0),(1,1),(2,0))'::path) </TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
> radius(circle) </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> float8 </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> radius of circle </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> radius('((0,0),2.0)'::circle) </TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
> width(box) </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> float8 </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> horizontal size </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> width('((0,0),(1,1))'::box) </TD
></TR
></TBODY
></TABLE
></DIV
>
   </P
><P
>    <DIV
CLASS="TABLE"
><P
><B
>Tabla 5-12. Geometric Type Conversion Functions</B
></P
><TABLE
BORDER="1"
CLASS="CALSTABLE"
><THEAD
><TR
><TH
ALIGN="LEFT"
VALIGN="TOP"
>Function</TH
><TH
ALIGN="LEFT"
VALIGN="TOP"
>Returns</TH
><TH
ALIGN="LEFT"
VALIGN="TOP"
>Description</TH
><TH
ALIGN="LEFT"
VALIGN="TOP"
>Example</TH
></TR
></THEAD
><TBODY
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
> box(circle) </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> box </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> convert circle to box </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> box('((0,0),2.0)'::circle) </TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
> box(point,point) </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> box </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> convert points to box </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> box('(0,0)'::point,'(1,1)'::point) </TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
> box(polygon) </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> box </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> convert polygon to box </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> box('((0,0),(1,1),(2,0))'::polygon) </TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
> circle(box) </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> circle </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> convert to circle </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> circle('((0,0),(1,1))'::box) </TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
> circle(point,float8) </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> circle </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> convert to circle </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> circle('(0,0)'::point,2.0) </TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
> lseg(box) </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> lseg </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> convert diagonal to lseg </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> lseg('((-1,0),(1,0))'::box) </TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
> lseg(point,point) </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> lseg </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> convert to lseg </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> lseg('(-1,0)'::point,'(1,0)'::point) </TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
> path(polygon) </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> point </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> convert to path </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> path('((0,0),(1,1),(2,0))'::polygon) </TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
> point(circle) </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> point </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> convert to point (center) </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> point('((0,0),2.0)'::circle) </TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
> point(lseg,lseg) </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> point </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> convert to point (intersection) </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> point('((-1,0),(1,0))'::lseg, '((-2,-2),(2,2))'::lseg) </TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
> point(polygon) </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> point </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> center of polygon </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> point('((0,0),(1,1),(2,0))'::polygon) </TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
> polygon(box) </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> polygon </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> convert to polygon with 12 points </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> polygon('((0,0),(1,1))'::box) </TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
> polygon(circle) </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> polygon </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> convert to 12-point polygon </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> polygon('((0,0),2.0)'::circle) </TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
> polygon(<TT
CLASS="REPLACEABLE"
><I
>npts</I
></TT
>,circle) </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> polygon </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> convert to <TT
CLASS="REPLACEABLE"
><I
>npts</I
></TT
> polygon </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> polygon(12,'((0,0),2.0)'::circle) </TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
> polygon(path) </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> polygon </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> convert to polygon </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> polygon('((0,0),(1,1),(2,0))'::path) </TD
></TR
></TBODY
></TABLE
></DIV
>
   </P
><P
>    <DIV
CLASS="TABLE"
><P
><B
>Tabla 5-13. Geometric Upgrade Functions</B
></P
><TABLE
BORDER="1"
CLASS="CALSTABLE"
><THEAD
><TR
><TH
ALIGN="LEFT"
VALIGN="TOP"
>Function</TH
><TH
ALIGN="LEFT"
VALIGN="TOP"
>Returns</TH
><TH
ALIGN="LEFT"
VALIGN="TOP"
>Description</TH
><TH
ALIGN="LEFT"
VALIGN="TOP"
>Example</TH
></TR
></THEAD
><TBODY
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
> isoldpath(path) </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> path </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> test path for pre-v6.1 form </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> isoldpath('(1,3,0,0,1,1,2,0)'::path) </TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
> revertpoly(polygon) </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> polygon </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> convert pre-v6.1 polygon </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> revertpoly('((0,0),(1,1),(2,0))'::polygon) </TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
> upgradepath(path) </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> path </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> convert pre-v6.1 path </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> upgradepath('(1,3,0,0,1,1,2,0)'::path) </TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
> upgradepoly(polygon) </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> polygon </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> convert pre-v6.1 polygon </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
> upgradepoly('(0,1,2,0,1,0)'::polygon) </TD
></TR
></TBODY
></TABLE
></DIV
>
   </P
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="x2571.htm"
>Anterior</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="postgres.htm"
>Inicio</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="x3193.htm"
>Siguiente</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Formatting Functions</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="functions.htm"
>Subir</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>IP V4 Functions</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>