<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN">
<HTML
><HEAD
><TITLE
>Archivos de comparación específicos de la plataforma</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.59"><LINK
REL="HOME"
TITLE="PostgreSQL"
HREF="postgres.html"><LINK
REL="UP"
TITLE="Pruebas de regresión"
HREF="regress.html"><LINK
REL="PREVIOUS"
TITLE="Análisis de Regresión"
HREF="x16101.html"><LINK
REL="NEXT"
TITLE="Notas de versiones"
HREF="release.html"></HEAD
><BODY
CLASS="SECT1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>PostgreSQL</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="x16101.html"
>Anterior</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>Pruebas de regresión</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="release.html"
>Siguiente</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="AEN16140"
>Archivos de comparación específicos de la plataforma</A
></H1
><P
>      Como alguno de los tests producen resultados inherentes a la
      plataforma usada, hemos proporcionamos una forma para suplir
      los archivos de comparación especificos para cada plataforma.
      Frecuentemente se da la misma variación en múltiples plataformas; en
      vez de dar un archivo de comparación separado para cada plataforma,
      existe un archivo guía que define qué archivo de comparación usar.
      De forma que, para eliminar fallos tontos de una plataforma en
      particular, debe elegir o crear un fichero de resultados variantes,
      y añadir una línea al archivo guía, que es "mapa de resultados".
     </P
><P
>      Cada línea del archivo guía es de la siguiente forma
      <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>       testname/platformnamepattern=comparisonfilename
      </PRE
></TD
></TR
></TABLE
>
      El nombre del test (testname) es sencillamente el nombre del módulo
      de regresión de ese test en particular. El patrón del nombre de la
      plataforma (platformnamepattern) está generado al estilo de expr(1)
      (que es una expresión regular con el símbolo ^ implícito al
      principio). Esta se comprueba con el nombre de la plataforma tal
      como viene escrito en config.guess. El nombre del fichero de
      comparación (comparisonfilename) es el nombre del sustituto del
      fichero de resultados de comparación.
     </P
><P
>      Por ejemplo: el test de regresión int2 incluye una entrada
      deliberada de un valor que es demasiado largo para caber en un
      int2. El mensaje de error específico que es producido es
      dependiente de la plataforma; nuestra plataforma de referencia saca
      <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>       ERROR:  pg_atoi: error reading "100000": Numerical result out of range
      </PRE
></TD
></TR
></TABLE
>
      pero en un buen número de otras plataformas Unix saca
      <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>       ERROR:  pg_atoi: error reading "100000": Result too large
      </PRE
></TD
></TR
></TABLE
>
      En este caso, proporcionamos una variante del archivo de
      comparación, int2-too-large.out, que incluye la sintaxis de este
      mensaje de error. Para no mostrar estos "fallos" tontos en las
      plataformas HPPA, el resultmap (mapa de resultados) incluye
      <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>       int2/hppa=int2-too-large
      </PRE
></TD
></TR
></TABLE
>
      que se activará en cualquier máquina en el que la salida de
      config.guess comience por 'hppa'. Otras líneas en el resultmap
      seleccionan la variante del archivo de comparación para otras
      plataformas donde sea apropiado.
     </P
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="x16101.html"
>Anterior</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="postgres.html"
>Inicio</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="release.html"
>Siguiente</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Análisis de Regresión</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="regress.html"
>Subir</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Notas de versiones</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>