<HTML
><HEAD
><TITLE
>   REVOKE
  </TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.54"><LINK
REL="HOME"
TITLE="PostgreSQL"
HREF="postgres.htm"><LINK
REL="UP"
TITLE="Instrucciones SQL"
HREF="sql-commands.htm"><LINK
REL="PREVIOUS"
TITLE="   RESET
  "
HREF="sql-reset.htm"><LINK
REL="NEXT"
TITLE="   ROLLBACK
  "
HREF="sql-rollback.htm"></HEAD
><BODY
CLASS="REFENTRY"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>PostgreSQL</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="sql-reset.htm"
>Anterior</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="sql-rollback.htm"
>Siguiente</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><H1
><A
NAME="SQL-REVOKE"
>REVOKE</A
></H1
><DIV
CLASS="REFNAMEDIV"
><A
NAME="AEN9832"
></A
><H2
>Nombre</H2
>   REVOKE
  &nbsp;--&nbsp;   Revoca el privilegio de acceso a un usuario, a un grupo o a todos los usuarios.
  </DIV
><DIV
CLASS="REFSYNOPSISDIV"
><A
NAME="AEN9835"
></A
><H2
>Synopsis</H2
><PRE
CLASS="SYNOPSIS"
>REVOKE <TT
CLASS="REPLACEABLE"
><I
>privilegio</I
></TT
> [, ...]
    ON <TT
CLASS="REPLACEABLE"
><I
>objeto</I
></TT
> [, ...]
    FROM { PUBLIC | GROUP <TT
CLASS="REPLACEABLE"
><I
>ER"&#62;g</I
></TT
>BLE&#62; | <TT
CLASS="REPLACEABLE"
><I
>nombre_usuario</I
></TT
> }
  </PRE
><DIV
CLASS="REFSECT2"
><A
NAME="R2-SQL-REVOKE-1"
></A
><H3
>    Entradas
   </H3
><P
>&#13;    <P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><TT
CLASS="REPLACEABLE"
><I
>privilegio</I
></TT
></DT
><DD
><P
>	Los posibles privilegios son:

	<P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
>SELECT</DT
><DD
><P
>	    Privilegio para acceder a todas las columnas de una 
	    tabla o vista específica.
	   </P
></DD
><DT
>INSERT</DT
><DD
><P
>	    Privilegio de insertar datos en todas las columnas de una 
	    tabla específica.
	   </P
></DD
><DT
>UPDATE</DT
><DD
><P
>	    Privilegio para actualizar todas las columnas de 
	    tabla.
	   </P
></DD
><DT
>DELETE</DT
><DD
><P
>	    Privilegio para borrar filas de una tabla específica.
	   </P
></DD
><DT
>RULE</DT
><DD
><P
>	    Privilegio para definir reglas en una tabla o vista.
	    (Veáse  
	    <A
HREF="sql-createrule.htm#SQL-CREATERULE-TITLE"
><I
>CREATE RULE</I
></A
>).
	   </P
></DD
><DT
>ALL</DT
><DD
><P
>	    Rescinde todos los privilegios.
	   </P
></DD
></DL
></DIV
>
       </P
></DD
><DT
><TT
CLASS="REPLACEABLE"
><I
>objeto</I
></TT
></DT
><DD
><P
>	El nombre de un objeto sobre el que revocar el acceso.

	Los posibles objetos son:
	<P
></P
><UL
COMPACT="COMPACT"
><LI
STYLE="list-style-type: disc"
><P
>	   tablea 
	  </P
></LI
><LI
STYLE="list-style-type: disc"
><P
>	   vista 
	  </P
></LI
><LI
STYLE="list-style-type: disc"
><P
>	   secuencia 
	  </P
></LI
><LI
STYLE="list-style-type: disc"
><P
>	   índice 
	  </P
></LI
></UL
>
       </P
></DD
><DT
><TT
CLASS="REPLACEABLE"
><I
>grupo</I
></TT
></DT
><DD
><P
>	El nombre de un grupo al cual se revocan privilegios.
       </P
></DD
><DT
><TT
CLASS="REPLACEABLE"
><I
>nombre_usuario</I
></TT
></DT
><DD
><P
>	El nombre de un usuario al cual se revocan privilegios. Utilice la palabra clave PUBLIC 
	para especificar todos los usuarios.
       </P
></DD
><DT
>PUBLIC</DT
><DD
><P
>	Rescinde el/los privilegio(s) especificado(s) a todos los usuarios.
       </P
></DD
></DL
></DIV
>
   </P
></DIV
><DIV
CLASS="REFSECT2"
><A
NAME="R2-SQL-REVOKE-2"
></A
><H3
>    Salidas
   </H3
><P
>&#13;    <P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><TT
CLASS="COMPUTEROUTPUT"
>CHANGE
       </TT
></DT
><DD
><P
>	Mensaje devuelto si ha tenido éxito.
       </P
></DD
><DT
><TT
CLASS="COMPUTEROUTPUT"
>ERROR
       </TT
></DT
><DD
><P
>	Mensaje que se devuelve si el objeto no está disponible o si es imposible revocar 
	privilegios al grupo o a los usuarios.
       </P
></DD
></DL
></DIV
>
   </P
></DIV
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="R1-SQL-REVOKE-1"
></A
><H2
>   Descripción
  </H2
><P
>   <B
CLASS="COMMAND"
>REVOKE</B
> permite al creador de una objeto revocar permisos asignados 
   anteriormente a todos los usuarios (mediante PUBLIC) o a un usuario o a un grupo.
  </P
><DIV
CLASS="REFSECT2"
><A
NAME="R2-SQL-REVOKE-3"
></A
><H3
>    Notas
   </H3
><P
>    Consulte el comando psql \z para obtener más información sobre permisos 
    en objetos existentes:

    <PRE
CLASS="PROGRAMLISTING"
>Database    = lusitania
+------------------+---------------------------------------------+
|  Relation        |        Grant/Revoke Permissions             |
+------------------+---------------------------------------------+
| mytable          | {"=rw","miriam=arwR","group todos=rw"}      |
+------------------+---------------------------------------------+
Legend:
     uname=arwR -- privileges granted to a user
     group gname=arwR -- privileges granted to a GROUP
     =arwR -- privileges granted to PUBLIC
		  
     r -- SELECT
     w -- UPDATE/DELETE
     a -- INSERT
     R -- RULE
     arwR -- ALL
    </PRE
>
   </P
><DIV
CLASS="TIP"
><BLOCKQUOTE
CLASS="TIP"
><P
><B
>Sugerencia: </B
>     Actualmente, para crear un grupo debe insertar los datos 
     manualmente en la tabla table pg_group de este modo:

     <PRE
CLASS="PROGRAMLISTING"
>INSERT INTO pg_group VALUES ('todos');
CREATE USER miriam IN GROUP todos;
     </PRE
>
    </P
></BLOCKQUOTE
></DIV
></DIV
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="R1-SQL-REVOKE-2"
></A
><H2
>   Utilización
  </H2
><P
>   Revoca el privilegio de inserción a todos los usuarios en la tabla 
   <TT
CLASS="LITERAL"
>films</TT
>:

   <PRE
CLASS="PROGRAMLISTING"
>REVOKE INSERT ON films FROM PUBLIC;
  </PRE
>
  </P
><P
>   Revoca todos los privilegios al usuario <TT
CLASS="LITERAL"
>manuel</TT
> en la vista <TT
CLASS="LITERAL"
>kinds</TT
>:

   <PRE
CLASS="PROGRAMLISTING"
>  
REVOKE ALL ON kinds FROM manuel;
   </PRE
>
  </P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="R1-SQL-REVOKE-3"
></A
><H2
>   Compatibilidad
  </H2
><DIV
CLASS="REFSECT2"
><A
NAME="R2-SQL-REVOKE-4"
></A
><H3
>    SQL92
   </H3
><P
>    La sintaxis de SQL92 para el comando <B
CLASS="COMMAND"
>REVOKE</B
>
    tiene capacidades adicionales para rescindir privilegios, 
    incluso aquellos en columnas individuales en tablas:

    <P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><PRE
CLASS="SYNOPSIS"
>REVOKE { SELECT | DELETE | USAGE | ALL PRIVILEGES } [, ...]
    ON <TT
CLASS="REPLACEABLE"
><I
>objeto</I
></TT
>
    FROM { PUBLIC | <TT
CLASS="REPLACEABLE"
><I
>nombre_usuario</I
></TT
> [, ...] } { RESTRICT | CASCADE }
REVOKE { INSERT | UPDATE | REFERENCES } [, ...] [ ( <TT
CLASS="REPLACEABLE"
><I
>columna</I
></TT
> [, ...] ) ]
    ON <TT
CLASS="REPLACEABLE"
><I
>objeto</I
></TT
>
    FROM { PUBLIC | <TT
CLASS="REPLACEABLE"
><I
>nombre_usuario</I
></TT
> [, ...] } { RESTRICT | CASCADE }
       </PRE
></DT
><DD
><P
>	Vea 
	<A
HREF="sql-grant.htm#SQL-GRANT-TITLE"
><I
>GRANT</I
></A
>
	para más detalles en campos individuales.
       </P
></DD
><DT
><PRE
CLASS="SYNOPSIS"
>REVOKE GRANT OPTION FOR <TT
CLASS="REPLACEABLE"
><I
>privilegio</I
></TT
> [, ...]
    ON <TT
CLASS="REPLACEABLE"
><I
>objeto</I
></TT
>
    FROM { PUBLIC | <TT
CLASS="REPLACEABLE"
><I
>nombre_usuario</I
></TT
> [, ...] } { RESTRICT | CASCADE }
       </PRE
></DT
><DD
><P
>	Rescinde a un usuario la autoridad para garantizar el privilegio especificado a 
	otros usuarios.
	Veáse 
	<A
HREF="sql-grant.htm#SQL-GRANT-TITLE"
><I
>GRANT</I
></A
>
	para los detalles en campos individuales.
       </P
></DD
></DL
></DIV
>
   </P
><P
>    Los objetos posibles son:
    <P
></P
><TABLE
BORDER="0"
><TBODY
><TR
><TD
>      [ TABLE ] tabla/vista
     </TD
></TR
><TR
><TD
>      CHARACTER SET conjunto_caracteres
     </TD
></TR
><TR
><TD
>      COLLATION colección
     </TD
></TR
><TR
><TD
>      TRANSLATION traslación
     </TD
></TR
><TR
><TD
>      DOMAIN dominio
     </TD
></TR
></TBODY
></TABLE
><P
></P
>
   </P
><P
> 
    Si user1 da un privilegio con la opción GRANT a user2 
    y user2 se lo da a user3, entonces user1 puede revocar 
    este privilegio en cascada usando la palabra clave CASCADE.
   </P
><P
>    Si user1 da un privilegio con GRANT a user2 
    y user2 se lo da a user3, entonces si user1 intenta revocar 
    este privilegio, fallará si ha especificado la palabra clave RESTRICT.
   </P
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="sql-reset.htm"
>Anterior</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="postgres.htm"
>Inicio</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="sql-rollback.htm"
>Siguiente</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>RESET</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="sql-commands.htm"
>Subir</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>ROLLBACK</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>