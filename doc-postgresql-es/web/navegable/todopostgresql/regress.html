<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN">
<HTML
><HEAD
><TITLE
>Pruebas de regresión</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.59"><LINK
REL="HOME"
TITLE="PostgreSQL"
HREF="postgres.html"><LINK
REL="UP"
TITLE="Guía del Administrador"
HREF="part-admin.html"><LINK
REL="PREVIOUS"
TITLE="Recuperación de bases de datos"
HREF="recovery.html"><LINK
REL="NEXT"
TITLE="Estructura de directorios"
HREF="x16057.html"></HEAD
><BODY
CLASS="CHAPTER"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>PostgreSQL</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="recovery.html"
>Anterior</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="x16057.html"
>Siguiente</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="CHAPTER"
><H1
><A
NAME="REGRESS"
>Pruebas de regresión</A
></H1
><BLOCKQUOTE
CLASS="ABSTRACT"
><DIV
CLASS="ABSTRACT"
><A
NAME="AEN16028"
></A
><P
></P
><P
>Instruciones y análisis del test de regresión</P
><P
></P
></DIV
></BLOCKQUOTE
><P
>  Los tests de regresión de PostgreSQL son un conjunto completo de pruebas
  para la implementación de SQL embebidos en PostgreSQL. Realizan pruebas
  tanto sobre operaciones SQL estándar, como también sobre las capacidades
  añadidas por PostgreSQL.</P
><P
>  Los tests de regresión fueron desarrollados originalmente por Jolly Chen y 
  Andrew Yu, y fueron extensamente repasados/reempaquetados por Fournier y
  Thomas Lockhart. Para <SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
> v6.1 en 
  adelante los tests de regresión forman parte de cada release oficial.</P
><P
>  Algunas bases de datos PostgreSQL correctamente instaladas y totalmente
  funcionales pueden fallar en alguno de estos test de regresión debido a
  problemas con la representación del punto flotante y el soporte de zona
  horaria. Los tests actuales son evaluados usando un sencillo algoritmo
  "diff", y son muy sensibles a pequeñas diferencias en el sistema. Para
  tests aparentemente fallidos, si se examinan estas diferencias, pueden
  revelar no ser significativas.</P
><P
>Las notas sobre tests de regresión de abajo asumen lo siguiente
(excepto en casos indicados):
<P
></P
><UL
COMPACT="COMPACT"
><LI
STYLE="list-style-type: disc"
><P
>Las instrucciones son compatibles con Unix. Vea la nota abajo.</P
></LI
><LI
STYLE="list-style-type: disc"
><P
>Se usan las opciones por defecto excepto donde se indica.</P
></LI
><LI
STYLE="list-style-type: disc"
><P
>El usuario postgres es el superusuario <SPAN
CLASS="PRODUCTNAME"
>Postgres</SPAN
>.</P
></LI
><LI
STYLE="list-style-type: disc"
><P
>La ruta de las fuentes es /usr/src/pgsql (son posibles otras rutas).</P
></LI
><LI
STYLE="list-style-type: disc"
><P
>La ruta de los ejecutables es /usr/local/pgsql (son posibles otras rutas).</P
></LI
></UL
></P
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="AEN16047"
>Entorno de regresión</A
></H1
><P
>  Para preparar los tests de regresión, haga <B
CLASS="COMMAND"
>make all</B
>
  en el directorio de los tests de regresión. Esto compila un programa
  <SPAN
CLASS="ACRONYM"
>C</SPAN
> con funciones extendidas PostgreSQL en un
  librería compartida. Se generan algunos guiones (scripts) SQL localizados
  y archivos de salida comparativos para los tests que los necesiten.
  La localización reemplaza macros en los archivos de fuentes con
  rutas absolutas y nombres de usuario.</P
><P
>  Normalmente, los tests de regresión deben ser ejecutados por el usuario
  postgres ya que el directorio 'src/test/regress' y subdirectorios son 
  de su propiedad. Si ejecuta los test de regresión con otro usuario el
  directorio 'src/test/regress' debe tener permisos de escritura para ese
  usuario.</P
><P
>  Antes era estrictamente necesario ejecutar el postmaster con la zona
  horaria del sistema establecida en PST, pero ya no es necesario. Puede
  ejecutar los tests de regresión sobre su configuración habitual del 
  postmaster. El guión (script) del test establecerá la variable de entorno
  PGTZ para asegurar que los tests dependientes de la zona horaria produzcan 
  los resultados esperados. De todas formas, su sistema debe proporcionar 
  librerías de soporte para la zona horaria PST8PDT, o los tests
  dependientes de la zona horaria fallarán.
  Para comprobar que su equipo soporta esto, escriba lo siguiente:
<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>    setenv TZ PST8PDT
    date</PRE
></TD
></TR
></TABLE
></P
><P
>  La orden "date" de arriba tiene que devolver la hora actual del sistema
  en la zona horaria PST8PDT. Si la base de datos PST8PDT no está disponible,
  entonces el sistema tiene que devolver la hora en GMT. Si la zona horaria
  PST8PDT no está disponible, puede establecer las reglas para esa zona 
  horaria explicitamente.
<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>    setenv PGTZ PST8PDT7,M04.01.0,M10.05.03</PRE
></TD
></TR
></TABLE
>
    </P
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="recovery.html"
>Anterior</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="postgres.html"
>Inicio</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="x16057.html"
>Siguiente</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Recuperación de bases de datos</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="part-admin.html"
>Subir</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Estructura de directorios</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>