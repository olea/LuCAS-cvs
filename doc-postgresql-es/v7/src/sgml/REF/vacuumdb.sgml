<!--
$Header: /home/cvs/lucas/doc-postgresql-es/v7/src/sgml/REF/vacuumdb.sgml,v 1.2 2001/10/11 21:46:27 rssantos Exp $
Documentación de Postgres
-->

<refentry id="APP-VACUUMDB">
 <refmeta>
  <refentrytitle id="APP-VACUUMDB-TITLE">
   <application>vacuumdb</application>
  </refentrytitle>
  <refmiscinfo>Aplicación</refmiscinfo>
 </refmeta>
 <refnamediv>
  <refname id="vacuumdb">
   <application>vacuumdb</application>
  </refname>
  <refpurpose>
   Limpia y analiza una base de datos <productname>PostgreSQL</productname>
  </refpurpose>
 </refnamediv>
 <refsynopsisdiv>
  <refsynopsisdivinfo>
   <date>1999-12-04</date>
  </refsynopsisdivinfo>
  <synopsis>
vacuumdb [ <replaceable class="parameter">opciones de conexión</replaceable> ] [ --analyze | -z ] [ --alldb | -a ] [ --verbose | -v ]
         [ --table '<replaceable class="parameter">tabla</replaceable> [ ( <replaceable class="parameter">columna</replaceable> [,...] ) ]' ] [ [-d] <replaceable class="parameter">nombre_bd</replaceable> ]
  </synopsis>

  <refsect2 id="R2-APP-VACUUMDB-1">
   <refsect2info>
    <date>1999-12-04</date>
   </refsect2info>
   <title>
    Entradas
   </title>
   <para>
    <application>vacuumdb</application> acepta los siguientes argumentos en la
    línea de comandos:
    
    <variablelist>
     <varlistentry>
      <term>[-d, --dbname] <replaceable class="parameter">nombre_bd</replaceable></term>
      <listitem>
       <para>
	Especifica el nombre de la base de datos que de be ser limpiada o
	analizada.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term>-z, --analyze</term>
      <listitem>
       <para>
	Calcula estadísticas sobre la base de datos para ser usadas por el
	optimizador.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term>-a, --alldb</term>
      <listitem>
       <para>
	Limpia todas las bases de datos.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term>-v, --verbose</term>
      <listitem>
       <para>
	Imprime información detallada durante el proceso.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term>-t, --table <replaceable class="parameter">tabla</replaceable> [ (<replaceable class="parameter">columna</replaceable> [,...]) ]</term>
      <listitem>
       <para>
	Limpia o analiza únicamente la <replaceable
	class="parameter">tabla</replaceable> indicada.
	Se pueden especificar nombres de columnas únicamente cuando se usa la
	opción <option>--analyze</option>.
       </para>
       <tip>
        <para>
         Si usted da el nombre de columnas que deben ser analizadas,
         probablemente tendrá que usar caracteres de escape de la shell para
         los paréntesis.
        </para>
       </tip>
      </listitem>
     </varlistentry>

    </variablelist>
   </para>

   <para>
    <application>vacuumdb</application> también acepta los siguientes
    argumentos de línea de comandos, para parámetros de conexión:
    
    <variablelist>
     <varlistentry>
      <term>-h, --host <replaceable class="parameter">anfitrión</replaceable></term>
      <listitem>
       <para>
	Especifica el nombre de la máquina anfitriona en la cual se está
	ejecutando el <application>postmaster</application>.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term>-p, --port <replaceable class="parameter">puerta</replaceable></term>
      <listitem>
       <para>
	Especifica la puerta de Internet TCP/IP o el fichero Unix de extensión
	de dominio local de conexión en que el
	<application>postmaster</application> recibe conexiones.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term>-U, --username <replaceable class="parameter">nombre</replaceable></term>
      <listitem>
       <para>
        Nombre de usuario que se debe usar para conectar.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term>-W, --password</term>
      <listitem>
       <para>
        Obliga el pedido de contraseña antes de ejecutar.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term>-e, --echo</term>
      <listitem>
       <para>
        Escribe una copia de los comandos que
	<application>vacuumdb</application> genera y envía al servidor.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term>-q, --quiet</term>
      <listitem>
       <para>
        No muestre la respuesta.
       </para>
      </listitem>
     </varlistentry>
    </variablelist>
   </para>
  </refsect2>

  <refsect2 id="R2-APP-VACUUMDB-2">
   <refsect2info>
    <date>1999-12-04</date>
   </refsect2info>
   <title>
    Mensajes de Resultados
   </title>
   <para>
    <variablelist>
     <varlistentry>
      <term><computeroutput>VACUUM</computeroutput></term>
      <listitem>
       <para>
        Todo corrió bien.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><computeroutput>vacuumdb: La limpieza falló.</computeroutput></term>
      <listitem>
       <para>
        Algo ha fallado. <application>vacuumdb</application> es apenas un
        guión de interfaz.
        Consulte <xref linkend="SQL-VACUUM" endterm="SQL-VACUUM-title">
        y <xref linkend="APP-PSQL" endterm="APP-PSQL-title"> para un discusión
        detallada de los mensajes de error y posibles problemas.
       </para>
      </listitem>
     </varlistentry>

    </variablelist>
   </para>

  </refsect2>
 </refsynopsisdiv>
 
 <refsect1 id="R1-APP-VACUUMDB-1">
  <refsect1info>
   <date>1999-12-04</date>
  </refsect1info>
  <title>
   Descripción
  </title>

  <para>
   <application>vacuumdb</application> es un utilitario para limpiar una base
   de datos <productname>PostgreSQL</productname>.
   <application>vacuumdb</application> también produce estadísticas internas
   usadas por el optimizador de búsquedas de
   <productname>Postgres</productname>.
  </para>

  <para>
   <application>vacuumdb</application> es un guión que envuelve al comando
   <xref linkend="SQL-VACUUM" endterm="SQL-VACUUM-title"> de
   <productname>PostgreSQL</productname>, por medio del terminal
   interactivo<xref linkend="APP-PSQL" endterm="APP-PSQL-title">. No existe
   diferencia efectiva entre la limpieza de bases de datos usando este u otros
   métodos.
   El guión deberá lograr encontrar a <application>psql</application> y
   deberá existir un servidor de bases de datos en ejecución en el anfitrión
   usado. Serán usadas cualquier configuración y variables de estado de
   <application>psql</application> y de la librería de interfaz
   <application>libpq</application>.
  </para>

 </refsect1>

 <refsect1 id="R1-APP-VACUUMDB-3">
  <refsect1info>
   <date>1998-10-04</date>
  </refsect1info>
  <title>
   Uso
  </title>

  <para>
   Para limpiar la base de datos <literal>prueba</literal>:
<programlisting>
$ vacuumdb prueba
</programlisting>
  </para>

  <para>
   Para analizar para el optimizador una base de datos llamada
   <literal>bdgrande</literal>:
<programlisting>
$ vacuumdb --analyze bdgrande
</programlisting>
  </para>

  <para>
   Para analizar para el optimizador una única columna <literal>cual</literal>
   en la tabla <literal>tal</literal> de una base de datos llamada
   <literal>xyzzy</literal>:
<programlisting>
$ vacuumdb --analyze --verbose --table 'tal(cual)' xyzzy
</programlisting>
  </para>

 </refsect1>
</refentry>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:nil
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
sgml-parent-document:nil
sgml-default-dtd-file:"../reference.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:"/usr/lib/sgml/catalog"
sgml-local-ecat-files:nil
End:
-->
